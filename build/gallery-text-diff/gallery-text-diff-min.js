YUI.add("gallery-text-diff",function(a){YUI.add("text-diff",function(c){function b(d){b.superclass.constructor.apply(this,arguments);}b.NAME="textDiff";b.ATTRS={complianceChar:{value:"_"},deletionChar:{value:"d"},insertionChar:{value:"i"},substitutionChar:{value:"s"},transpositionChar:{value:"t"}};c.extend(b,c.Base,{_constructSingleCharString:function(g,f){var d="",e;for(e=0;e<f;e++){d+=g;}return d;},calculateDiff:function(m,k){var n=this,e=null,l=null,h=[],d=null,g,f;if(m===k){return{diffMatrix:null,diffString:this._constructSingleCharString(this.get("complianceChar"),m.length),dist:0};}else{if(k.length===0){return{diffMatrix:null,diffString:this._constructSingleCharString(this.get("insertionChar"),m.length),dist:m.length};}else{if(m.length===0){return{diffMatrix:null,diffString:this._constructSingleCharString(this.get("deletionChar"),k.length),dist:k.length};}}}e=m.split("");l=k.split("");for(g=0;g<=k.length;g++){h[g]=[{dist:g,diff:this._constructSingleCharString(this.get("deletionChar"),g)}];}for(f=0;f<=m.length;f++){h[0][f]={dist:f,diff:this._constructSingleCharString(this.get("insertionChar"),f)};}c.Array.each(l,function(o,j){c.Array.each(e,function(p,i){if(l[j]===e[i]){h[j+1][i+1]={dist:h[j][i]["dist"],diff:h[j][i]["diff"]+n.get("complianceChar")};}else{d={dist:h[j][i+1]["dist"]+1,diff:h[j][i+1]["diff"]+n.get("deletionChar")};if(h[j+1][i]["dist"]<d["dist"]){d={dist:h[j+1][i]["dist"]+1,diff:h[j+1][i]["diff"]+n.get("insertionChar")};}if(h[j][i]["dist"]<d["dist"]){d={dist:h[j][i]["dist"]+1,diff:h[j][i]["diff"]+n.get("substitutionChar")};}if(j>0&&i>0&&o==e[i-1]&&p==l[j-1]&&h[j-1][i-1]["dist"]<d["dist"]){d={dist:h[j-1][i-1]["dist"]+1,diff:h[j-1][i-1]["diff"]+n.get("transpositionChar")+n.get("transpositionChar")};}h[j+1][i+1]=d;}});});return{diffMatrix:h,diffString:h[k.length][m.length]["diff"],dist:h[k.length][m.length]["dist"]};}});c.namespace("elHornair").TextDiff=b;},"0.1",{requires:["base"]});},"@VERSION@",{requires:["base"],skinnable:false});